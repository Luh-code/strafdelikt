[gd_scene load_steps=22 format=3 uid="uid://cw1fd5xafowgq"]

[ext_resource type="Script" uid="uid://crj6pkmwenl78" path="res://entities/scripts/player/Player.cs" id="1_abrql"]
[ext_resource type="PackedScene" uid="uid://8lyp1s71wcu2" path="res://entities/player/player_camera.tscn" id="2_sglur"]
[ext_resource type="Script" uid="uid://bu5lhtrhgeeqy" path="res://entities/player/DebugUi.cs" id="3_sglur"]
[ext_resource type="Script" uid="uid://cc7fkotb05rcb" path="res://entities/scripts/player/Viewmodel.cs" id="4_8fjmc"]
[ext_resource type="Texture2D" uid="uid://cyjocaakkgefb" path="res://addons/kenney_prototype_textures/orange/texture_01.png" id="5_8fjmc"]
[ext_resource type="CameraAttributesPractical" uid="uid://bacekqyur3xv5" path="res://entities/player/player_camera.tres" id="5_fkugw"]

[sub_resource type="Curve" id="Curve_abrql"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.752525, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_sglur"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.252525, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="Curve" id="Curve_bls4j"]
_limits = [-1.0, 1.0, 0.0, 1.0]
_data = [Vector2(0, 0.640449), 0.0, 0.0, 0, 0]
point_count = 1

[sub_resource type="CapsuleMesh" id="CapsuleMesh_u3f3p"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_abrql"]

[sub_resource type="SphereMesh" id="SphereMesh_abrql"]

[sub_resource type="QuadMesh" id="QuadMesh_sglur"]

[sub_resource type="Gradient" id="Gradient_fkugw"]
colors = PackedColorArray(0.1335, 0.700875, 0.89, 1, 1, 0, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_8fjmc"]
gradient = SubResource("Gradient_fkugw")

[sub_resource type="Gradient" id="Gradient_bls4j"]
colors = PackedColorArray(0, 0.466667, 1, 1, 0, 0.774628, 0.242169, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_fkugw"]
gradient = SubResource("Gradient_bls4j")

[sub_resource type="Gradient" id="Gradient_abrql"]
colors = PackedColorArray(0, 0.466667, 1, 1, 1, 0.0909423, 0.0594643, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_sglur"]
gradient = SubResource("Gradient_abrql")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_26q78"]
albedo_texture = ExtResource("5_8fjmc")
uv1_triplanar = true
texture_filter = 5

[sub_resource type="Environment" id="Environment_8fjmc"]
background_mode = 1
background_color = Color(0, 0, 0, 0)
ambient_light_source = 2
ambient_light_color = Color(0.93845, 0.93845, 0.93845, 1)
ambient_light_energy = 1.1

[node name="Player" type="CharacterBody3D" node_paths=PackedStringArray("debugUI", "VArm", "DArm", "AArm")]
script = ExtResource("1_abrql")
Speed = 10.1
SprintSpeed = 13.5
JumpVelocity = 12.0
AccelSpeed = 74.655
DecelSpeed = 121.495
AccelCurve = SubResource("Curve_abrql")
DecelCurve = SubResource("Curve_sglur")
LateralDampening = SubResource("Curve_bls4j")
debugUI = NodePath("DebugUI")
VArm = NodePath("DebugUI/DirectionClockWidget/Arms/VArm")
DArm = NodePath("DebugUI/DirectionClockWidget/Arms/DArm")
AArm = NodePath("DebugUI/DirectionClockWidget/Arms/AArm")

[node name="PlayerModel" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_u3f3p")

[node name="PlayerCamera" parent="." instance=ExtResource("2_sglur")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.01824, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_abrql")

[node name="DebugUI" type="Control" parent="." node_paths=PackedStringArray("player", "ClockWidgetOptions", "ShowBreakAsForce", "vValue", "aValue", "vnValue", "anValue", "cValue", "avAngleValue")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("3_sglur")
player = NodePath("..")
ClockWidgetOptions = NodePath("DirectionClockWidget/Options")
ShowBreakAsForce = NodePath("DirectionClockWidget/Options/ShowBreakAsForce/CheckBox")
vValue = NodePath("Control/VBoxContainer/v/vValue")
aValue = NodePath("Control/VBoxContainer/a/aValue")
vnValue = NodePath("Control/VBoxContainer/vn/vValue")
anValue = NodePath("Control/VBoxContainer/an/aValue")
cValue = NodePath("Control/VBoxContainer/c/cValue")
avAngleValue = NodePath("Control/VBoxContainer/avAngle/avAngleValue")

[node name="DirectionClockWidget" type="Control" parent="DebugUI"]
anchors_preset = 0
offset_left = 75.0
offset_top = 75.0
offset_right = 385.0
offset_bottom = 387.0

[node name="MeshInstance2D2" type="MeshInstance2D" parent="DebugUI/DirectionClockWidget"]
position = Vector2(160.344, 162.416)
scale = Vector2(300, 300)
mesh = SubResource("SphereMesh_abrql")

[node name="Arms" type="Node2D" parent="DebugUI/DirectionClockWidget"]

[node name="AArm" type="Node2D" parent="DebugUI/DirectionClockWidget/Arms"]
position = Vector2(160, 160)

[node name="AArm" type="MeshInstance2D" parent="DebugUI/DirectionClockWidget/Arms/AArm"]
position = Vector2(74.3438, 0.015625)
scale = Vector2(150, 7.2)
mesh = SubResource("QuadMesh_sglur")
texture = SubResource("GradientTexture1D_8fjmc")

[node name="VArm" type="Node2D" parent="DebugUI/DirectionClockWidget/Arms"]
position = Vector2(160, 160)

[node name="VArm" type="MeshInstance2D" parent="DebugUI/DirectionClockWidget/Arms/VArm"]
position = Vector2(74.3438, 0.015625)
scale = Vector2(150, 7.2)
mesh = SubResource("QuadMesh_sglur")
texture = SubResource("GradientTexture1D_fkugw")

[node name="DArm" type="Node2D" parent="DebugUI/DirectionClockWidget/Arms"]
position = Vector2(160, 160)

[node name="DArm" type="MeshInstance2D" parent="DebugUI/DirectionClockWidget/Arms/DArm"]
position = Vector2(74.3438, 0.015625)
scale = Vector2(150, 7.2)
mesh = SubResource("QuadMesh_sglur")
texture = SubResource("GradientTexture1D_sglur")

[node name="Options" type="Control" parent="DebugUI/DirectionClockWidget"]
anchors_preset = 0
offset_left = 321.0
offset_right = 475.0
offset_bottom = 40.0

[node name="ShowBreakAsForce" type="Control" parent="DebugUI/DirectionClockWidget/Options"]
anchors_preset = 0
offset_right = 212.0
offset_bottom = 40.0

[node name="CheckBox" type="CheckBox" parent="DebugUI/DirectionClockWidget/Options/ShowBreakAsForce"]
layout_mode = 0
offset_top = 6.0
offset_right = 24.0
offset_bottom = 30.0

[node name="Label" type="Label" parent="DebugUI/DirectionClockWidget/Options/ShowBreakAsForce"]
layout_mode = 0
offset_left = 24.0
offset_top = 6.0
offset_right = 120.0
offset_bottom = 29.0
text = "Show Break as Force"

[node name="Control" type="Control" parent="DebugUI"]
layout_mode = 1
anchor_left = 0.039
anchor_top = 0.069
anchor_right = 0.039
anchor_bottom = 0.069
offset_left = 11.12
offset_top = 331.48
offset_right = 393.12
offset_bottom = 785.48

[node name="VBoxContainer" type="VBoxContainer" parent="DebugUI/Control"]
layout_mode = 0
offset_right = 382.0
offset_bottom = 454.0

[node name="v" type="HBoxContainer" parent="DebugUI/Control/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="DebugUI/Control/VBoxContainer/v"]
layout_mode = 2
text = "v: "

[node name="vValue" type="Label" parent="DebugUI/Control/VBoxContainer/v"]
layout_mode = 2

[node name="a" type="HBoxContainer" parent="DebugUI/Control/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="DebugUI/Control/VBoxContainer/a"]
layout_mode = 2
text = "a: "

[node name="aValue" type="Label" parent="DebugUI/Control/VBoxContainer/a"]
layout_mode = 2

[node name="vn" type="HBoxContainer" parent="DebugUI/Control/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="DebugUI/Control/VBoxContainer/vn"]
layout_mode = 2
text = "vn: "

[node name="vValue" type="Label" parent="DebugUI/Control/VBoxContainer/vn"]
layout_mode = 2

[node name="an" type="HBoxContainer" parent="DebugUI/Control/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="DebugUI/Control/VBoxContainer/an"]
layout_mode = 2
text = "an: "

[node name="aValue" type="Label" parent="DebugUI/Control/VBoxContainer/an"]
layout_mode = 2

[node name="c" type="HBoxContainer" parent="DebugUI/Control/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="DebugUI/Control/VBoxContainer/c"]
layout_mode = 2
text = "c: "

[node name="cValue" type="Label" parent="DebugUI/Control/VBoxContainer/c"]
layout_mode = 2

[node name="avAngle" type="HBoxContainer" parent="DebugUI/Control/VBoxContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="DebugUI/Control/VBoxContainer/avAngle"]
layout_mode = 2
text = "avAngle: "

[node name="avAngleValue" type="Label" parent="DebugUI/Control/VBoxContainer/avAngle"]
layout_mode = 2

[node name="avAngleValue2" type="Label" parent="DebugUI/Control/VBoxContainer/avAngle"]
layout_mode = 2
text = "deg"

[node name="CanvasLayer" type="CanvasLayer" parent="."]
visible = false

[node name="Viewmodel" type="SubViewportContainer" parent="CanvasLayer" node_paths=PackedStringArray("viewport")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("4_8fjmc")
viewport = NodePath("SubViewport")

[node name="SubViewport" type="SubViewport" parent="CanvasLayer/Viewmodel"]
own_world_3d = true
transparent_bg = true
handle_input_locally = false
msaa_3d = 3
use_debanding = true
debug_draw = 1
gui_disable_input = true
size = Vector2i(1920, 1080)
render_target_update_mode = 0

[node name="CSGBox3D2" type="CSGBox3D" parent="CanvasLayer/Viewmodel/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.045, 0.665, -1.36)
material_override = SubResource("StandardMaterial3D_26q78")
size = Vector3(0.29, 0.385, 0.865)

[node name="CSGBox3D3" type="CSGBox3D" parent="CanvasLayer/Viewmodel/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 0.300706, -0.953717, 0, 0.953717, 0.300706, 1.045, 0.405, -1.36)
material_override = SubResource("StandardMaterial3D_26q78")
size = Vector3(0.275, 0.275, 0.705)

[node name="Camera3D" type="Camera3D" parent="CanvasLayer/Viewmodel/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, 0)
environment = SubResource("Environment_8fjmc")
attributes = ExtResource("5_fkugw")
current = true
fov = 90.0

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="CanvasLayer/Viewmodel/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -4)
visible = false
light_energy = 2.83

[editable path="PlayerCamera"]
